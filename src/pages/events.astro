---
// /events - Events listing page
import MainLayout from '../layouts/MainLayout.astro';
import { upcomingEvents, pastEvents } from '../data/events';
import { Icon } from 'astro-icon/components';
---

<MainLayout 
  title="Events | DevUp Society"
  description="Join us for workshops, hackathons, tech talks, and more"
>
  <!-- HERO SECTION -->
  <section class="relative h-[60vh] w-full flex flex-col justify-center items-center overflow-hidden border-b border-zinc-900">
    <div class="grid-floor opacity-30"></div>
    
    <div class="relative z-20 text-center px-4">
      <span class="text-signal font-mono text-xs tracking-widest uppercase mb-4 block">/// Community</span>
      <h1 class="font-display text-6xl md:text-9xl text-white font-medium leading-[0.85] tracking-tight mb-6">
        OUR<br/>
        <span class="text-zinc-700">EVENTS</span>
      </h1>
      <p class="font-mono text-zinc-400 text-sm max-w-2xl mx-auto">
        Join us for workshops, hackathons, tech talks, and more. Learn, build, and connect.
      </p>
    </div>
  </section>

  <!-- UPCOMING EVENTS -->
  {upcomingEvents.length > 0 && (
    <section class="py-32 bg-void">
      <div class="max-w-7xl mx-auto px-6">
        <div class="mb-20">
          <span class="text-signal font-mono text-xs tracking-widest uppercase mb-4 block">/// Coming Soon</span>
          <h2 class="font-display text-6xl text-white font-medium leading-[0.9]">
            UPCOMING EVENTS
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {upcomingEvents.map((event, index) => (
            <a 
              href={`/events/${event.slug}`}
              class={`group relative ${index % 2 === 1 ? 'md:mt-12' : ''}`}
            >
              <div class="glass-panel p-8 clip-corner-tl hover:border-signal/30 transition-all h-full flex flex-col">
                <!-- Event Image Placeholder -->
                <div class="w-full aspect-video bg-zinc-900 border border-zinc-800 mb-6 overflow-hidden group-hover:border-signal transition-colors">
                  <div class="w-full h-full flex items-center justify-center">
                    <Icon name="lucide:calendar" class="text-4xl text-zinc-700 group-hover:text-signal transition-colors" />
                  </div>
                </div>

                <!-- Status Badge -->
                <div class="mb-4">
                  <span class="bg-signal/20 text-signal font-mono text-xs px-3 py-1 uppercase tracking-widest">
                    Upcoming
                  </span>
                </div>

                <!-- Title -->
                <h3 class="font-display text-2xl text-white mb-4 group-hover:text-signal transition-colors">
                  {event.title}
                </h3>

                <!-- Event Info -->
                <div class="space-y-2 mb-4 flex-1">
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-400">
                    <Icon name="lucide:calendar" class="text-signal" />
                    <span>{new Date(event.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                  </div>
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-400">
                    <Icon name="lucide:map-pin" class="text-signal" />
                    <span>{event.location}</span>
                  </div>
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-400">
                    <Icon name="lucide:monitor" class="text-signal" />
                    <span>{event.mode}</span>
                  </div>
                </div>

                <!-- Description -->
                <p class="font-mono text-xs text-zinc-500 leading-relaxed mb-6 border-t border-zinc-800 pt-4">
                  {event.shortDescription}
                </p>

                <!-- Tags -->
                <div class="flex flex-wrap gap-2 mb-6">
                  {event.tags.slice(0, 3).map(tag => (
                    <span class="font-mono text-xs text-zinc-600 bg-zinc-900 px-2 py-1 border border-zinc-800">
                      {tag}
                    </span>
                  ))}
                </div>

                <!-- CTA -->
                <div class="mt-auto pt-4 border-t border-zinc-800">
                  <span class="font-mono text-xs text-signal uppercase tracking-widest group-hover:text-white transition-colors">
                    View Details →
                  </span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- PAST EVENTS -->
  {pastEvents.length > 0 && (
    <section class="py-32 bg-[#050505] border-t border-zinc-900">
      <div class="max-w-7xl mx-auto px-6">
        <div class="mb-20">
          <span class="text-zinc-600 font-mono text-xs tracking-widest uppercase mb-4 block">/// Archive</span>
          <h2 class="font-display text-6xl text-white font-medium leading-[0.9]">
            PAST EVENTS
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {pastEvents.map((event, index) => (
            <a 
              href={`/events/${event.slug}`}
              class={`group relative ${index % 2 === 1 ? 'md:mt-12' : ''}`}
            >
              <div class="glass-panel p-8 clip-corner-tl hover:border-zinc-700 transition-all h-full flex flex-col opacity-80 hover:opacity-100">
                <!-- Event Image Placeholder -->
                <div class="w-full aspect-video bg-zinc-900 border border-zinc-800 mb-6 overflow-hidden">
                  <div class="w-full h-full flex items-center justify-center">
                    <Icon name="lucide:calendar" class="text-4xl text-zinc-700" />
                  </div>
                </div>

                <!-- Status Badge -->
                <div class="mb-4">
                  <span class="bg-zinc-800 text-zinc-500 font-mono text-xs px-3 py-1 uppercase tracking-widest">
                    Past Event
                  </span>
                </div>

                <!-- Title -->
                <h3 class="font-display text-2xl text-white mb-4 group-hover:text-zinc-400 transition-colors">
                  {event.title}
                </h3>

                <!-- Event Info -->
                <div class="space-y-2 mb-4 flex-1">
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-500">
                    <Icon name="lucide:calendar" />
                    <span>{new Date(event.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                  </div>
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-500">
                    <Icon name="lucide:map-pin" />
                    <span>{event.location}</span>
                  </div>
                </div>

                <!-- Description -->
                <p class="font-mono text-xs text-zinc-600 leading-relaxed mb-4 border-t border-zinc-800 pt-4">
                  {event.shortDescription}
                </p>

                <!-- CTA -->
                <div class="mt-auto pt-4 border-t border-zinc-800">
                  <span class="font-mono text-xs text-zinc-600 uppercase tracking-widest group-hover:text-zinc-400 transition-colors">
                    View Details →
                  </span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- NO EVENTS MESSAGE -->
  {upcomingEvents.length === 0 && pastEvents.length === 0 && (
    <section class="py-32 bg-void">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <div class="glass-panel p-12 clip-corner">
          <Icon name="lucide:calendar-x" class="text-6xl text-zinc-700 mb-6" />
          <h2 class="font-display text-3xl text-white mb-4">No Events Available</h2>
          <p class="font-mono text-zinc-500 text-sm">
            Check back soon for upcoming workshops, hackathons, and tech talks.
          </p>
        </div>
      </div>
    </section>
  )}
</MainLayout>
