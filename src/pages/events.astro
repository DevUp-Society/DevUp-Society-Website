---
/**
 * /events - Events Listing Page with ItemList Schema
 * 
 * SEO Optimizations:
 * - ItemList schema for event listings (appears in Google Events)
 * - Individual Event schema references
 * - Breadcrumb navigation
 * - AEO-optimized content for "DevUp events" queries
 * 
 * TARGET KEYWORDS:
 * - DevUp Society events
 * - hackathon Hyderabad 2026
 * - coding events for students
 * - tech workshops VJIT
 * - student hackathons India
 */
import MainLayout from '../layouts/MainLayout.astro';
import { upcomingEvents, pastEvents } from '../data/events';
import { Icon } from 'astro-icon/components';

// Generate ItemList schema for upcoming events
const eventsListSchema = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "DevUp Society Events - Hackathons, Workshops & Tech Talks",
  "description": "Upcoming hackathons, coding workshops, and tech events organized by DevUp Society at VJIT, Hyderabad",
  "numberOfItems": upcomingEvents.length,
  "itemListElement": upcomingEvents.map((event, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "item": {
      "@type": event.isHackathon ? "Hackathon" : "Event",
      "name": event.title,
      "description": event.shortDescription,
      "startDate": event.date,
      "location": {
        "@type": "Place",
        "name": event.location,
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Hyderabad",
          "addressRegion": "Telangana",
          "addressCountry": "IN"
        }
      },
      "url": `https://www.devupvjit.in/events/${event.slug}`,
      "organizer": {
        "@type": "Organization",
        "name": "DevUp Society",
        "url": "https://www.devupvjit.in"
      },
      "eventStatus": "https://schema.org/EventScheduled",
      "eventAttendanceMode": event.mode === 'Online' 
        ? "https://schema.org/OnlineEventAttendanceMode"
        : "https://schema.org/OfflineEventAttendanceMode"
    }
  }))
};

// Breadcrumb schema
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.devupvjit.in" },
    { "@type": "ListItem", "position": 2, "name": "Events", "item": "https://www.devupvjit.in/events" }
  ]
};
---

<MainLayout 
  title="Hackathons, Workshops & Coding Events 2026 | DevUp Society"
  description="Join DevUp Society's hackathons, coding bootcamps, and tech workshops at VJIT Hyderabad. Open to all students. Free registration for most events. View upcoming events now."
  keywords="DevUp Society events, hackathon Hyderabad 2026, coding events for students, tech workshops VJIT, student hackathons India, Devthon 2026, coding competition"
  schema={[eventsListSchema, breadcrumbSchema]}
>
  <!-- HERO SECTION -->
  <section class="relative h-[60vh] w-full flex flex-col justify-center items-center overflow-hidden border-b border-zinc-900">
    <div class="grid-floor opacity-30"></div>
    
    <div class="relative z-20 text-center px-4">
      <span class="text-signal font-mono text-xs tracking-widest uppercase mb-4 block">/// Community</span>
      <h1 class="font-display text-6xl md:text-9xl text-white font-medium leading-[0.85] tracking-tight mb-6">
        OUR<br/>
        <span class="text-zinc-700">EVENTS</span>
      </h1>
      <p class="font-mono text-zinc-400 text-sm max-w-2xl mx-auto">
        Join us for workshops, hackathons, tech talks, and more. Learn, build, and connect with India's most active student developer community.
      </p>
      
      <!-- AEO Block for AI Answer Engines -->
      <article class="sr-only" aria-hidden="true">
        <h2>What events does DevUp Society organize?</h2>
        <p>DevUp Society organizes hackathons, coding bootcamps, technical workshops, tech talks, and networking meetups. Events cover Full-Stack Development, DevOps, AI/ML, Mobile Development, and Open Source contribution. Most events are free and open to all students. Check devupvjit.in/events for upcoming events at VJIT, Hyderabad.</p>
      </article>
    </div>
  </section>

  <!-- UPCOMING EVENTS -->
  {upcomingEvents.length > 0 && (
    <section class="py-32 bg-void">
      <div class="max-w-7xl mx-auto px-6">
        <div class="mb-20">
          <span class="text-signal font-mono text-xs tracking-widest uppercase mb-4 block">/// Coming Soon</span>
          <h2 class="font-display text-6xl text-white font-medium leading-[0.9]">
            UPCOMING EVENTS
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {upcomingEvents.map((event, index) => (
            <a 
              href={`/events/${event.slug}`}
              class={`group relative ${index % 2 === 1 ? 'md:mt-12' : ''}`}
            >
              <div class="glass-panel p-8 clip-corner-tl hover:border-signal/30 transition-all h-full flex flex-col">
                <!-- Event Image Placeholder -->
                <div class="w-full aspect-video bg-zinc-900 border border-zinc-800 mb-6 overflow-hidden group-hover:border-signal transition-colors">
                  <div class="w-full h-full flex items-center justify-center">
                    <Icon name="lucide:calendar" class="text-4xl text-zinc-700 group-hover:text-signal transition-colors" />
                  </div>
                </div>

                <!-- Status Badge -->
                <div class="mb-4">
                  <span class="bg-signal/20 text-signal font-mono text-xs px-3 py-1 uppercase tracking-widest">
                    Upcoming
                  </span>
                </div>

                <!-- Title -->
                <h3 class="font-display text-2xl text-white mb-4 group-hover:text-signal transition-colors">
                  {event.title}
                </h3>

                <!-- Event Info -->
                <div class="space-y-2 mb-4 flex-1">
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-400">
                    <Icon name="lucide:calendar" class="text-signal" />
                    <span>{new Date(event.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                  </div>
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-400">
                    <Icon name="lucide:map-pin" class="text-signal" />
                    <span>{event.location}</span>
                  </div>
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-400">
                    <Icon name="lucide:monitor" class="text-signal" />
                    <span>{event.mode}</span>
                  </div>
                </div>

                <!-- Description -->
                <p class="font-mono text-xs text-zinc-500 leading-relaxed mb-6 border-t border-zinc-800 pt-4">
                  {event.shortDescription}
                </p>

                <!-- Tags -->
                <div class="flex flex-wrap gap-2 mb-6">
                  {event.tags.slice(0, 3).map(tag => (
                    <span class="font-mono text-xs text-zinc-600 bg-zinc-900 px-2 py-1 border border-zinc-800">
                      {tag}
                    </span>
                  ))}
                </div>

                <!-- CTA -->
                <div class="mt-auto pt-4 border-t border-zinc-800">
                  <span class="font-mono text-xs text-signal uppercase tracking-widest group-hover:text-white transition-colors">
                    View Details →
                  </span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- PAST EVENTS -->
  {pastEvents.length > 0 && (
    <section class="py-32 bg-[#050505] border-t border-zinc-900">
      <div class="max-w-7xl mx-auto px-6">
        <div class="mb-20">
          <span class="text-zinc-600 font-mono text-xs tracking-widest uppercase mb-4 block">/// Archive</span>
          <h2 class="font-display text-6xl text-white font-medium leading-[0.9]">
            PAST EVENTS
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {pastEvents.map((event, index) => (
            <a 
              href={`/events/${event.slug}`}
              class={`group relative ${index % 2 === 1 ? 'md:mt-12' : ''}`}
            >
              <div class="glass-panel p-8 clip-corner-tl hover:border-zinc-700 transition-all h-full flex flex-col opacity-80 hover:opacity-100">
                <!-- Event Image Placeholder -->
                <div class="w-full aspect-video bg-zinc-900 border border-zinc-800 mb-6 overflow-hidden">
                  <div class="w-full h-full flex items-center justify-center">
                    <Icon name="lucide:calendar" class="text-4xl text-zinc-700" />
                  </div>
                </div>

                <!-- Status Badge -->
                <div class="mb-4">
                  <span class="bg-zinc-800 text-zinc-500 font-mono text-xs px-3 py-1 uppercase tracking-widest">
                    Past Event
                  </span>
                </div>

                <!-- Title -->
                <h3 class="font-display text-2xl text-white mb-4 group-hover:text-zinc-400 transition-colors">
                  {event.title}
                </h3>

                <!-- Event Info -->
                <div class="space-y-2 mb-4 flex-1">
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-500">
                    <Icon name="lucide:calendar" />
                    <span>{new Date(event.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                  </div>
                  <div class="flex items-center gap-2 font-mono text-xs text-zinc-500">
                    <Icon name="lucide:map-pin" />
                    <span>{event.location}</span>
                  </div>
                </div>

                <!-- Description -->
                <p class="font-mono text-xs text-zinc-600 leading-relaxed mb-4 border-t border-zinc-800 pt-4">
                  {event.shortDescription}
                </p>

                <!-- CTA -->
                <div class="mt-auto pt-4 border-t border-zinc-800">
                  <span class="font-mono text-xs text-zinc-600 uppercase tracking-widest group-hover:text-zinc-400 transition-colors">
                    View Details →
                  </span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

    </section>
  )}

  <section class="py-20 bg-void border-t border-zinc-900 text-center">
    <div class="max-w-2xl mx-auto px-6">
      <h3 class="font-display text-2xl text-white mb-4">Have an Event Idea?</h3>
      <p class="font-mono text-zinc-500 text-sm mb-8">
        We're always looking for new workshops, hackathons, and collaborations. 
        Reach out to us if you'd like to partner or propose an event.
      </p>
      <a href="mailto:devupsociety@vjit.ac.in" class="text-signal hover:text-white transition-colors font-mono text-xs uppercase tracking-widest border border-signal px-6 py-3 clip-corner hover:bg-signal/10 flex items-center gap-2 w-fit mx-auto">
        <Icon name="lucide:mail" class="text-lg" />
        devupsociety@vjit.ac.in
      </a>
    </div>
  </section>
</MainLayout>
